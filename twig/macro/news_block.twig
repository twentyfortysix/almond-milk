{% macro input(post, view) %}
	{% import 'macro/news.twig' as newsItem %}
	{% import 'macro/section.twig' as section %}
	{#
	Main top-left item
	0 : normal
	1 : main - no image
	2 : main - background image
	3 : main - image inside
	4 : main - video
	#}
	{% for item in view.news|slice(0,1) %}
		<div class="col-12 col-sm-8 large format_{{ view.format }}">
			{# normal big image #}
			{% if view.format == 0 %}
				{% set p = fn('getObject', item ) %}
				{{ newsItem.input(p) }}

			{# video #}
			{% elseif view.format == 4 and view.video %}
				{# my tools return here full fledged embed html #}
				{{ view.video }}

			{# no image case || image on background || small image on background  #}
			{% elseif view.format >= 1 %}
				{% set p = fn('getObject', item ) %}
				<div class="in" {{ view.format == 2 or view.format == 3 ? 'style="background-image:url(' ~ p.thumbnail.src('large') ~ ')"' }}>
					<h2>
						<a href="{{ p.link }}">
							{{ p.title }}
						</a>
					</h2>
					<div class="tags">
						<a href="#">#bude</a>, <a href="#">#nebude</a>
					</div>
					<div class="description">
						{{ p.description ? p.description : function("strip_tags", p.content)|truncate(30) }}
					</div>
					<a href="{{ p.link }}" class="btn btn-primary-dark">
						{{ __('Kuk sem','arnika') }}
					</a>
				</div>

			{% endif %}
		</div>

	{% endfor %}

	{# the possible section navigation #}
	{% if post.main_section %}
		<div class="col-12 col-sm-3">
			{{ section.input(post, 'h1') }}
		</div>
	{% endif %}

	{#
	Other items 2-5
	section menu is taken in to account as well
	(if there gonna be only four items all in all, the last baby will be larger)
	#}
	{% set newsCount = view.news|length %}
	{% set start = 1 %}
	{% if post.main_section and view.format == 4 and view.video %}
		{% set start = 0 %}
		{% set itemsRemains = newsCount >= 3 ? 3 : newsCount %}

	{% elseif post.main_section %}
		{# minus 1 - the very first item #}
		{% set itemsRemains = (newsCount - 1) >= 3 ? 3 : (newsCount - 1) %}

	{% elseif view.format == 4 and view.video %}
		{% set start = 0 %}
		{% set itemsRemains = newsCount >= 4 ? 4 : newsCount %}

	{% else %}
		{# minus 1 - the very first item #}
		{% set itemsRemains = (newsCount - 1) >= 4 ? 4 : view.news|length %}

	{% endif %}

	{# once we know how many items reamains and where we start to pick show them in a proper clothes #}
	{% if itemsRemains == 4 %}
		{% for item in view.news|slice(start,4) %}
			<div class="col-12 col-sm-4">
				{% set p = fn('getObject', item ) %}
				{{ newsItem.input(p) }}
			</div>
		{% endfor %}

	{% elseif itemsRemains == 3 and post.main_section %}
		{% for item in view.news|slice(start,3) %}
			<div class="col-12 col-sm-4">
				{% set p = fn('getObject', item ) %}
				{{ newsItem.input(p) }}
			</div>
		{% endfor %}

	{% elseif itemsRemains == 2 and post.main_section %}
		{% for item in view.news|slice(start,1) %}
			<div class="col-12 col-sm-4">
				{% set p = fn('getObject', item ) %}
				{{ newsItem.input(p) }}
			</div>
		{% endfor %}
		{% for item in view.news|slice(start+1,1) %}
			<div class="col-12 col-sm-8">
				{% set p = fn('getObject', item ) %}
				{{ newsItem.input(p) }}
			</div>
		{% endfor %}

	{% elseif itemsRemains == 3 %}
		{% for item in view.news|slice(start,2) %}
			<div class="col-12 col-sm-4">
				{% set p = fn('getObject', item ) %}
				{{ newsItem.input(p) }}
			</div>
		{% endfor %}
		{% for item in view.news|slice(start+2,1) %}
			<div class="col-12 col-sm-8">
				{% set p = fn('getObject', item ) %}
				{{ newsItem.input(p) }}
			</div>
		{% endfor %}

	{% endif %}
{% endmacro %}